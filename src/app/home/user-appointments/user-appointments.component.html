<div class="flex h-100">
    <div
      class="billListContainer flex-column h-100 flex-grow-1"
      [@expandShrink]="extendedView"
      [ngClass]="{ 'hidden md:flex md:border-r md:border-purple-500': extendedView == 'expanded' }"
    >
        @if(appointments.length > 0){
            <div class="mt-3 p-3" @slideInOut>
    
                <div class="display-6 text-purple-700">
                    My Appointments
                </div>
            
                <table class="table table-striped mt-3">
                    <thead>
                        <tr>
                            <th class="ellipsis" scope="col" title="Appointment Date">Appointment Date</th>
                            <th class="ellipsis" scope="col">Status</th>
                            <th class="ellipsis rounded-tr-md md:rounded-tr-none" scope="col">Last Updated</th>
                            <th class="ellipsis hidden xl:table-cell" scope="col">Type</th>
                            <th class="ellipsis hidden xl:table-cell" title="Vehicle" scope="col">Vehicle</th>
                            <th class="ellipsis hidden xl:table-cell" title="License Plate" scope="col">License Plate</th>
                            <th class="ellipsis hidden xl:table-cell" scope="col">Mileage</th>
                            <th class="ellipsis hidden xl:table-cell" title="Provider Selected" scope="col">Provider Selected</th>
                        </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let appointment of appointments; trackBy: trackbyAppointmentId" class="hover:!bg-gray-100 relative cursor-pointer" (click)="selectAppointment(appointment)" [ngClass]="{'selected' : selectedAppointment?.appointmentID == appointment.appointmentID }">
                          <td class="ellipsis pl-8 group-hover:!bg-gray-100" title="{{appointment?.appointmentDate | date:'medium'}}">{{appointment?.appointmentDate | date:'medium'}}</td>
                          <td class="ellipsis group-hover:!bg-gray-100" title="{{appointment?.appointmentStatus}}">{{appointment?.appointmentStatus}}</td>
                          <td class="ellipsis group-hover:!bg-gray-100" title="{{appointment?.lastUpdate | date:'medium'}}">{{appointment?.lastUpdate | date:'medium'}}</td>
                          <td class="ellipsis group-hover:!bg-gray-100 hidden xl:table-cell" title="{{appointment?.serviceType}}">{{appointment?.serviceType}}</td>
                          <td class="ellipsis group-hover:!bg-gray-100 hidden xl:table-cell" title="{{appointment?.vehicleDetails[0]?.year + ' ' + appointment?.vehicleDetails[0]?.make + ' ' +
                          appointment?.vehicleDetails[0]?.model}}">{{appointment?.vehicleDetails[0]?.year + ' ' + appointment?.vehicleDetails[0]?.make + ' ' +
                          appointment?.vehicleDetails[0]?.model}}</td>
                          <td class="ellipsis group-hover:!bg-gray-100 hidden xl:table-cell" title="{{appointment?.vehicleDetails[0]?.licensePlate}}">{{appointment?.vehicleDetails[0]?.licensePlate}}</td>
                          <td class="ellipsis group-hover:!bg-gray-100 hidden xl:table-cell" title="{{appointment?.vehicleDetails[0]?.mileage}}">{{appointment?.vehicleDetails[0]?.mileage}}</td>
                          <td class="ellipsis group-hover:!bg-gray-100 hidden xl:table-cell" title="{{appointment?.providerDetails[0]?.name || 'Provider does not exist anymore'}}">{{appointment?.providerDetails[0]?.name || 'Provider does not exist anymore'}}</td>
                      </tr>
                  </tbody>
                </table>
            </div>
        }

    </div>
</div>
